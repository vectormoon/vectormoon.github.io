<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Eight_Queens</title>
    <link href="/2020/09/24/Eight-Queens/"/>
    <url>/2020/09/24/Eight-Queens/</url>
    
    <content type="html"><![CDATA[<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p> 深搜、标记以及回溯</p><h2 id="算法详情"><a href="#算法详情" class="headerlink" title="算法详情"></a>算法详情</h2><p>介绍顺序：标记-&gt;深搜-&gt;回溯</p><h4 id="1-标记"><a href="#1-标记" class="headerlink" title="1.标记"></a>1.标记</h4><p> 使用数组记录无法下棋的部分：</p><pre><code class="hljs cpp"><span class="hljs-keyword">bool</span> flag[<span class="hljs-number">4</span>][<span class="hljs-number">100</span>];</code></pre><p>当置为1时，即为无法再放置的标记，具体标记内容：</p><pre><code class="hljs cpp">flag[<span class="hljs-number">1</span>][j]=<span class="hljs-number">1</span> <span class="hljs-comment">//标记j列不能再放置</span>flag[<span class="hljs-number">2</span>][i+j]=<span class="hljs-number">1</span> <span class="hljs-comment">//标记对角线 </span>flag[<span class="hljs-number">3</span>][i-j+n]=<span class="hljs-number">1</span> <span class="hljs-comment">//标记对角线</span></code></pre><p>举个例子，当棋盘为4*4时：</p><pre><code class="hljs cpp">flag[<span class="hljs-number">2</span>][i+j]=<span class="hljs-number">1</span><span class="hljs-comment">// i=2,j=3；显见在红线处都应该设为1</span></code></pre><p><img src="/img/blog_contents/Eight_Queens/ij.jpg"></p><pre><code class="hljs cpp">flag[<span class="hljs-number">3</span>][i-j+n]=<span class="hljs-number">1</span> <span class="hljs-comment">// i=2,j=3；显见在红线处应都无法放置</span></code></pre><p><img src="/img/blog_contents/Eight_Queens/ijn.jpg"></p><h4 id="2-代码"><a href="#2-代码" class="headerlink" title="2.代码"></a>2.代码</h4><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> res; <span class="hljs-keyword">bool</span> flag[<span class="hljs-number">4</span>][<span class="hljs-number">100</span>]; <span class="hljs-keyword">int</span> n;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>&#123;<span class="hljs-keyword">int</span> j;<span class="hljs-keyword">if</span> (i &gt; n) &#123;res++;<span class="hljs-keyword">return</span>;&#125;<span class="hljs-keyword">for</span> (j = <span class="hljs-number">1</span>; j &lt;= n; j++) &#123;<span class="hljs-keyword">if</span> ((flag[<span class="hljs-number">1</span>][j] == <span class="hljs-number">0</span>) &amp;&amp; (flag[<span class="hljs-number">2</span>][i + j] == <span class="hljs-number">0</span>) &amp;&amp; (flag[<span class="hljs-number">3</span>][i - j + n] == <span class="hljs-number">0</span>)) &#123;flag[<span class="hljs-number">1</span>][j] = <span class="hljs-number">1</span>;<span class="hljs-comment">//标记</span>flag[<span class="hljs-number">2</span>][i + j] = <span class="hljs-number">1</span>;<span class="hljs-comment">//标记</span>flag[<span class="hljs-number">3</span>][i - j + n] = <span class="hljs-number">1</span>;<span class="hljs-comment">//标记</span>dfs(i + <span class="hljs-number">1</span>);flag[<span class="hljs-number">1</span>][j] = <span class="hljs-number">0</span>;<span class="hljs-comment">//回溯</span>flag[<span class="hljs-number">2</span>][i + j] = <span class="hljs-number">0</span>;<span class="hljs-comment">//回溯</span>flag[<span class="hljs-number">3</span>][i - j + n] = <span class="hljs-number">0</span>;<span class="hljs-comment">//回溯</span>&#125;&#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<span class="hljs-built_in">cin</span> &gt;&gt; n;dfs(<span class="hljs-number">1</span>);<span class="hljs-built_in">cout</span> &lt;&lt; res;<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
